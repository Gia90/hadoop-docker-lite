###zookeeper
zookeeper:
  image: anoopnair/zookeeper_alpine:3.4.6
  container_name: zookeeper
  hostname: zk
  ports:
    - "2181:2181"

###hbase
hbase:
   image: anoopnair/hbase_alpine:1.1.2
   container_name: hbase
   hostname: hbase
   ports:
     - "60000:60000"
     - "60010:60010"
     - "60020:60020"
     - "60030:60030"
   links:
     - zookeeper:zk

###kafka
kafka:
  image: anoopnair/kafka_alpine:0.9.0.1
  hostname: kafka
  ports:
    - "9092:9092"
  links:
    - zookeeper:zk
  environment:
    KAFKA_ADVERTISED_HOST_NAME: 192.168.56.102
    KAFKA_ADVERTISED_PORT: 9092
    KAFKA_ZOOKEEPER_CONNECT: "zk:2181"
  volumes:
    - /var/run/docker.sock:/var/run/docker.sock

kafka-manager:
  image: sheepkiller/kafka-manager:latest
  container_name: kafka-manager
  ports:
    - "9000:9000"
  links:
    - zookeeper:zk
    - kafka:kafka
  environment:
    ZK_HOSTS: "zk:2181"
    APPLICATION_SECRET: letmein
    KM_ARGS: -Djava.net.preferIPv4Stack=true

###Storm
nimbus:
  image: anoopnair/storm-nimbus_debian:0.10.0
  container_name: storm-nimbus
  hostname: nimbus   
  ports:
    - "49773:3773"
    - "49772:3772"
    - "49627:6627"
    - "22"
  links: 
    - zookeeper:zk
    - hbase:hbase

supervisor:
  image: anoopnair/storm-supervisor_debian:0.10.0
  ports:
    - "8000"
    - "22"
  links: 
    - nimbus:nimbus
    - zookeeper:zk
    - hbase:hbase
ui:
  image: anoopnair/storm-ui_debian:0.10.0
  container_name: storm-ui
  ports:
    - "49080:8080"
    - "22"
  links: 
    - nimbus:nimbus
    - zookeeper:zk

##hadoop
hadoop:
  image: anoopnair/hadoop_debian:2.7.1
  container_name: hadoop
  hostname: hadoop
  ports:
    - "49707:49707"
    - "50010:50010"
    - "50020:50020"
    - "50030:50030" 
    - "50070:50070"
    - "50075:50075"
    - "50090:50090"
    - "8030:8030"
    - "8031:8031"
    - "8032:8032"
    - "8033:8033"
    - "8040:8040"
    - "8042:8042"
    - "8088:8088"

##pig
pig:
  image: anoopnair/pig_hadoop_debian:0.15.0
  container_name: pig
  links: 
    - hadoop

